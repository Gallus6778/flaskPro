{% extends 'layouts/template.html' %}

{% block style %}
<style>
    .dtHorizontalExampleWrapper {
        max-width: 600px;
        margin: 0 auto;
        overflow: auto;
        }
    #dtHorizontalExample th, td, #dtHorizontalExample2 th, dtHorizontalExample3 th {
        white-space: nowrap;
        }

    table.dataTable thead .sorting:after,
    table.dataTable thead .sorting:before,
    table.dataTable thead .sorting_asc:after,
    table.dataTable thead .sorting_asc:before,
    table.dataTable thead .sorting_asc_disabled:after,
    table.dataTable thead .sorting_asc_disabled:before,
    table.dataTable thead .sorting_desc:after,
    table.dataTable thead .sorting_desc:before,
    table.dataTable thead .sorting_desc_disabled:after,
    table.dataTable thead .sorting_desc_disabled:before {
        bottom: .5em;
        }
</style>
{% endblock %}

{% block content %}
<hr>

{# -------------------------------------- Debut de la page ------------------------------------------------ #}
{% if msisdn %}
    <div class="container">
        <div class="row">
            <div class="col-12">
                <h1 style="font-size:30px;font-weight:bold; text-align:center; padding-top:10px;">Check for internet connexion by using only the msisdn</h1>
                <br>
                <form method="POST">
                    {{ msisdnForm.hidden_tag() }}
                    {{ msisdnForm.msisdn.label(class="form-label", style="font-size:20px;")}}

                    {{ msisdnForm.msisdn(class="form-control", style="font-size:20px;height:40px;", placeholder="Example=237669595858") }}
                    <br>
                    {{ msisdnForm.submit(class="btn btn-danger", style="font-size:20px;height:40px;") }}
                </form>
            </div>
        </div>
    </div>
<hr style="border:1px solid gray">
    <div class="container-fluid" style="font-size:20px;">
        <div class="row">
            <div class="col-12">
                <center>
                    <h1 style="font-size:25px;font-weight:bold; text-align:center; padding-top:-20px;">The informations in the HLR of the subscriber: {{ msisdn_info_results['msisdn'] }}</h1>

                        <table id="tHorizontalExample" class="table table-bordered table-sm" cellspacing="0" width="100%">
                          <thead>
                            <tr>
<!--                              <th scope="col">imsiActive</th>-->
                              <th scope="col">accTypeGSM</th>
                              <th scope="col">accTypeGERAN</th>
                              <th scope="col">accTypeUTRAN</th>
<!--                              <th scope="col">odboc</th>-->
<!--                              <th scope="col">odbic</th>-->
<!--                              <th scope="col">odbr</th>-->
<!--                              <th scope="col">odboprc</th>-->
<!--                              <th scope="col">odbssm</th>-->
                              <th scope="col">odbgprs</th>
<!--                              <th scope="col">odbsci</th>-->
                              <th scope="col">isActiveIMSI</th>
                              <th scope="col">actIMSIGprs</th>
<!--                              <th scope="col">obGprs</th>-->
                              <th scope="col">Qos</th>
                              <th scope="col">APN</th>
                              <th scope="col">ldapResponse</th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr>
<!--                              <td>{{ msisdn_info_results['imsiActive'] }}</td>-->
                              <td>{{ msisdn_info_results['accTypeGSM'] }}</td>
                              <td>{{ msisdn_info_results['accTypeGERAN'] }}</td>
                              <td>{{ msisdn_info_results['accTypeUTRAN'] }}</td>
<!--                              <td>{{ msisdn_info_results['odboc'] }}</td>-->
<!--                              <td>{{ msisdn_info_results['odbic'] }}</td>-->
<!--                              <td>{{ msisdn_info_results['odbr'] }}</td>-->
<!--                              <td>{{ msisdn_info_results['odboprc'] }}</td>-->
<!--                              <td>{{ msisdn_info_results['odbssm'] }}</td>-->
                              <td>{{ msisdn_info_results['odbgprs'] }}</td>
<!--                              <td>{{ msisdn_info_results['odbsci'] }}</td>-->
                              <td>{{ msisdn_info_results['isActiveIMSI'] }}</td>
                              <td>{{ msisdn_info_results['actIMSIGprs'] }}</td>
<!--                              <td>{{ msisdn_info_results['obGprs'] }}</td>-->
                              <td>{{ msisdn_info_results['qosProfile'] }}</td>
                              <td>{{ msisdn_info_results['refPdpContextName'] }}</td>
                              <td>{{ msisdn_info_results['ldapResponse'] }}</td>
                            </tr>
                          </tbody>
                        </table>
                    </center>
<!--                ------------------------------------------------------------                -->
<hr style="border:1px solid gray">
                <center>
                    <h1 style="font-size:25px;font-weight:bold; text-align:center; padding-top:-20px;">The informations in the SGSN of the subscriber: {{ msisdn_info_results['msisdn'] }}</h1>
                    <table style="font-size:20px;" id="dtHorizontalExample2" class="table table-bordered table-sm" cellspacing="0" width="100%">
                          <thead>
                            <tr>
                                <th scope="col">msisdn</th>
                                <th scope="col">RADIO ACCESS TYPE</th>
                                <th scope="col">PDP STATE</th>
                                <th scope="col">TERMINAL TYPE</th>
                                <th scope="col">LAC</th>
                                <th scope="col">CI</th>
                                <th scope="col">SUBSCRIBER</th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr>
                                <td>{{ msisdn_info_results['msisdn'] }}</td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                          </tbody>
                    </table>
                </center>
<hr style="border:1px solid gray">
                <center>
                    <h1 style="font-size:25px;font-weight:bold; text-align:center; padding-top:-20px;">The results of treatment informations.</h1>
                    <table id="dtHorizontalExample3" class="table table-bordered table-sm" cellspacing="0" width="100%">
                          <thead>
                            <tr>
                                {% for key, value in msisdn1.items() %}
                                <th scope="col">{{ key }}</th>
                                {% endfor %}
                            </tr>
                          </thead>
                          <tbody>
                            <tr>
                                {% for key, value in msisdn1.items() %}
                                <td>{{ value }}</td>
                                {% endfor %}
                            </tr>
                          </tbody>
                    </table>
                </center>
            </div>
        </div>
    </div>
{% else %}
    <div class="container">
        <div class="row">
            <div class="col-12">
                <h1 style="font-size:30px;font-weight:bold; text-align:center; padding-top:10px;">Check for internet connexion by using only the msisdn</h1>
                <br>
                <form method="POST">
                    {{ msisdnForm.hidden_tag() }}
                    {{ msisdnForm.msisdn.label(class="form-label", style="font-size:20px;")}}

                    {{ msisdnForm.msisdn(class="form-control", style="font-size:20px;height:40px;", placeholder="Example=237669595858") }}
                    <br>
                    {{ msisdnForm.submit(class="btn btn-danger", style="font-size:20px;height:40px;") }}
                </form>
            </div>
        </div>
    </div>
<hr style="border:1px solid gray">
{% endif %}
{% endblock %}